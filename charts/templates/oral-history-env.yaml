apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "chart.fullname" . }}-env
  labels:
    {{- include "chart.labels" . | nindent 4 }}
data:
  ADMIN_EMAIL: "{{ .Values.env.secret.ADMIN_EMAIL }}"
  ADMIN_PASSWORD: "{{ .Values.env.secret.ADMIN_PASSWORD }}"
  MAKE_WAVES: "{{ .Values.env.configmap.MAKE_WAVES }}"
  NEGATIVE_CAPTCHA_SECRET: "{{ .Values.env.secret.NEGATIVE_CAPTCHA_SECRET }}"
  PASSENGER_APP_ENV: "production"
  POSTGRES_DB: "{{ .Values.postgresql.auth.database }}"
  POSTGRES_HOST: "{{ template "chart.postgresql.host" . }}"
  POSTGRES_PASSWORD: "{{ .Values.postgresql.auth.password }}"
  POSTGRES_PORT: "{{ .Values.postgresql.service.ports.postgresql }}"
  POSTGRES_USER: "{{ .Values.postgresql.auth.username }}"
  SECRET_KEY_BASE: "{{ .Values.env.secret.SECRET_KEY_BASE }}"
  SOLR_ADMIN_USER: "{{ .Values.solr.auth.adminUsername }}"
  SOLR_ADMIN_PASSWORD: "{{ .Values.solr.auth.adminPassword }}"
  SOLR_HOST: "{{ template "chart.solr.host" . }}"
  SOLR_PORT: "8983"
  SOLR_URL: {{ template "chart.solr.url" . }}